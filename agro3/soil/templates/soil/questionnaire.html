{% extends 'base.html' %}

{% block title %}Soil Type Identification - Batken Agri-Helper{% endblock %}

{% block content %}
<div class="row mb-4">
    <div class="col-12">
        <h1><i class="bi bi-dirt text-info me-2"></i>Soil Type Identification</h1>
        <p class="lead">Answer a few simple questions about your soil to identify its type and get crop recommendations.</p>
    </div>
</div>

<!-- Progress Steps -->
<div class="row mb-4">
    <div class="col-12">
        <div class="card bg-light">
            <div class="card-body">
                <div class="row text-center">
                    <div class="col-3">
                        <i class="bi bi-1-circle-fill text-info mb-2" style="font-size: 2rem;"></i>
                        <div class="small fw-bold">Texture Test</div>
                    </div>
                    <div class="col-3">
                        <i class="bi bi-2-circle text-muted mb-2" style="font-size: 2rem;"></i>
                        <div class="small">Drainage Test</div>
                    </div>
                    <div class="col-3">
                        <i class="bi bi-3-circle text-muted mb-2" style="font-size: 2rem;"></i>
                        <div class="small">Physical Properties</div>
                    </div>
                    <div class="col-3">
                        <i class="bi bi-check-circle text-muted mb-2" style="font-size: 2rem;"></i>
                        <div class="small">Results</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Questionnaire Form -->
<div class="row">
    <div class="col-lg-8 mx-auto">
        <div class="card shadow-sm">
            <div class="card-header bg-info text-white">
                <h5 class="mb-0"><i class="bi bi-clipboard-data me-2"></i>Soil Identification Questionnaire</h5>
            </div>
            <div class="card-body">
                <form method="POST">
                    {% csrf_token %}
                    
                    <!-- Step 1: Texture -->
                    <div class="mb-4">
                        <h6 class="fw-bold text-info mb-3">
                            <i class="bi bi-1-circle-fill me-2"></i>Step 1: Feel the Texture
                        </h6>
                        <p class="text-muted mb-3">Take a handful of moist soil and rub it between your fingers. How does it feel?</p>
                        <div class="row">
                            <div class="col-md-6">
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="texture" value="sandy" id="texture_sandy" required>
                                    <label class="form-check-label" for="texture_sandy">
                                        <strong>Sandy/Gritty</strong><br>
                                        <small class="text-muted">Feels rough and granular, like sand at the beach</small>
                                    </label>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="texture" value="smooth" id="texture_smooth">
                                    <label class="form-check-label" for="texture_smooth">
                                        <strong>Smooth/Silky</strong><br>
                                        <small class="text-muted">Feels soft and powdery, like flour</small>
                                    </label>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="texture" value="sticky" id="texture_sticky">
                                    <label class="form-check-label" for="texture_sticky">
                                        <strong>Sticky/Heavy</strong><br>
                                        <small class="text-muted">Sticks to your hands, feels heavy and dense</small>
                                    </label>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="texture" value="mixed" id="texture_mixed">
                                    <label class="form-check-label" for="texture_mixed">
                                        <strong>Mixed Texture</strong><br>
                                        <small class="text-muted">Combination of the above textures</small>
                                    </label>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <hr>
                    
                    <!-- Step 2: Drainage -->
                    <div class="mb-4">
                        <h6 class="fw-bold text-info mb-3">
                            <i class="bi bi-2-circle-fill me-2"></i>Step 2: Observe Drainage
                        </h6>
                        <p class="text-muted mb-3">After watering or rain, how quickly does water disappear from the soil surface?</p>
                        <div class="row">
                            <div class="col-md-4">
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="drainage" value="good" id="drainage_good" required>
                                    <label class="form-check-label" for="drainage_good">
                                        <strong>Fast (Good)</strong><br>
                                        <small class="text-muted">Water disappears quickly, within minutes</small>
                                    </label>
                                </div>
                            </div>
                            <div class="col-md-4">
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="drainage" value="moderate" id="drainage_moderate">
                                    <label class="form-check-label" for="drainage_moderate">
                                        <strong>Medium (Moderate)</strong><br>
                                        <small class="text-muted">Water takes several hours to disappear</small>
                                    </label>
                                </div>
                            </div>
                            <div class="col-md-4">
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="drainage" value="poor" id="drainage_poor">
                                    <label class="form-check-label" for="drainage_poor">
                                        <strong>Slow (Poor)</strong><br>
                                        <small class="text-muted">Water pools and takes days to disappear</small>
                                    </label>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <hr>
                    
                    <!-- Step 3: Stickiness -->
                    <div class="mb-4">
                        <h6 class="fw-bold text-info mb-3">
                            <i class="bi bi-3-circle-fill me-2"></i>Step 3: Test Stickiness
                        </h6>
                        <p class="text-muted mb-3">When the soil is wet, try to form it into a ball. How sticky is it?</p>
                        <div class="row">
                            <div class="col-md-4">
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="stickiness" value="not_sticky" id="stickiness_not" required>
                                    <label class="form-check-label" for="stickiness_not">
                                        <strong>Not Sticky</strong><br>
                                        <small class="text-muted">Falls apart easily, won't form a ball</small>
                                    </label>
                                </div>
                            </div>
                            <div class="col-md-4">
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="stickiness" value="slightly_sticky" id="stickiness_slight">
                                    <label class="form-check-label" for="stickiness_slight">
                                        <strong>Slightly Sticky</strong><br>
                                        <small class="text-muted">Forms a loose ball, some stickiness</small>
                                    </label>
                                </div>
                            </div>
                            <div class="col-md-4">
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="stickiness" value="very_sticky" id="stickiness_very">
                                    <label class="form-check-label" for="stickiness_very">
                                        <strong>Very Sticky</strong><br>
                                        <small class="text-muted">Forms a firm ball, sticks to hands</small>
                                    </label>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <hr>
                    
                    <!-- Step 4: Color -->
                    <div class="mb-4">
                        <h6 class="fw-bold text-info mb-3">
                            <i class="bi bi-palette me-2"></i>Bonus: Soil Color
                        </h6>
                        <p class="text-muted mb-3">What is the predominant color of your soil?</p>
                        <div class="row">
                            <div class="col-md-3">
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="color" value="dark_brown" id="color_dark">
                                    <label class="form-check-label" for="color_dark">
                                        <strong>Dark Brown/Black</strong>
                                    </label>
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="color" value="brown" id="color_brown">
                                    <label class="form-check-label" for="color_brown">
                                        <strong>Brown</strong>
                                    </label>
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="color" value="red" id="color_red">
                                    <label class="form-check-label" for="color_red">
                                        <strong>Red/Reddish</strong>
                                    </label>
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="color" value="light" id="color_light">
                                    <label class="form-check-label" for="color_light">
                                        <strong>Light/Gray</strong>
                                    </label>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="text-center">
                        <button type="submit" class="btn btn-info btn-lg px-4">
                            <i class="bi bi-search me-2"></i>Identify My Soil Type
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>

<!-- Help Section -->
<div class="row mt-5">
    <div class="col-12">
        <div class="card bg-light">
            <div class="card-body">
                <h5><i class="bi bi-lightbulb me-2"></i>Need Help?</h5>
                <div class="row">
                    <div class="col-md-6">
                        <p><strong>How to prepare soil for testing:</strong></p>
                        <ul class="small">
                            <li>Remove any stones, roots, or debris</li>
                            <li>Add a little water to make it moist (not muddy)</li>
                            <li>Take soil from about 6 inches deep</li>
                        </ul>
                    </div>
                    <div class="col-md-6">
                        <p><strong>Why soil type matters:</strong></p>
                        <ul class="small">
                            <li>Determines water retention capacity</li>
                            <li>Affects nutrient availability</li>
                            <li>Influences crop selection</li>
                            <li>Helps plan fertilization schedule</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}